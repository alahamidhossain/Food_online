{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import{Button,Row,Col,ListGroup,Image,Card}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import Message from'../components/Message';import Loader from'../components/Loader';import CheckoutSteps from'../components/CheckoutSteps';import{createOrder}from'../actions/orderActions';import{ORDER_CREATE_RESET}from'../constants/orderConstants';import{clearCart}from'../actions/cartActions';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PlaceOrderPage=()=>{const dispatch=useDispatch();const navigate=useNavigate();const[orderError,setOrderError]=useState('');const cart=useSelector(state=>state.cart);const{cartItems=[],shippingAddress={},paymentMethod=''}=cart;const userLogin=useSelector(state=>state.userLogin);const{userInfo}=userLogin;const orderCreate=useSelector(state=>state.orderCreate);const{order,success,error,loading}=orderCreate;// Calculate prices\nconst itemsPrice=cartItems&&cartItems.length>0?cartItems.reduce((acc,item)=>acc+item.price*item.qty,0):0;const discountAmount=cart.coupon?itemsPrice*cart.coupon.discountPercent/100:0;const deliveryPrice=(shippingAddress===null||shippingAddress===void 0?void 0:shippingAddress.deliveryType)==='delivery'?5:0;const taxPrice=Math.round(0.05*itemsPrice*100)/100;// 5% tax, rounded to 2 decimal places\nconst totalPrice=Math.round((itemsPrice+deliveryPrice+taxPrice-discountAmount)*100)/100;// Check if shipping address is available\nuseEffect(()=>{// Check if cart is empty\nif(!cartItems||cartItems.length===0){setOrderError('Your cart is empty. Please add items to your cart before proceeding.');}// Check if shipping address is available\nif(!shippingAddress||Object.keys(shippingAddress).length===0){navigate('/shipping');}else if(!paymentMethod){navigate('/payment');}},[navigate,shippingAddress,paymentMethod,cartItems]);useEffect(()=>{if(success&&order){navigate(`/order/${order._id}`);dispatch({type:ORDER_CREATE_RESET});dispatch(clearCart());}},[navigate,success,order,dispatch]);const placeOrderHandler=()=>{if(!userInfo){setOrderError('Please log in to place an order');return;}if(!cartItems||cartItems.length===0){setOrderError('Your cart is empty');return;}if(!shippingAddress||Object.keys(shippingAddress).length===0){setOrderError('Please provide shipping information');return;}if(!paymentMethod){setOrderError('Please select a payment method');return;}setOrderError('');// Log cart state before creating order\nconsole.log('Creating order with cart items:',cartItems);dispatch(createOrder({orderItems:cartItems.map(item=>({menuItem:item.menuItem,name:item.name,qty:item.qty,image:item.image,price:item.price,specialInstructions:item.specialInstructions||''})),shippingAddress,paymentMethod,itemsPrice,taxPrice,deliveryPrice,discountAmount,totalPrice,couponCode:cart.coupon?cart.coupon.code:null}));};// Force-render the component when cart items change\nuseEffect(()=>{// This is just to trigger a re-render when cart items change\nconsole.log('Cart items changed:',cartItems);},[cartItems]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckoutSteps,{step1:true,step2:true,step3:true,step4:true}),orderError&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:orderError}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Delivery\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Method: \"}),(shippingAddress===null||shippingAddress===void 0?void 0:shippingAddress.deliveryType)==='delivery'?'Home Delivery':'Pickup']}),(shippingAddress===null||shippingAddress===void 0?void 0:shippingAddress.deliveryType)==='delivery'&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Address: \"}),shippingAddress.address,\", \",shippingAddress.city,' ',shippingAddress.postalCode]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone: \"}),shippingAddress===null||shippingAddress===void 0?void 0:shippingAddress.phoneNumber]})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Payment Method\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Method: \"}),paymentMethod]})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Order Items\"}),!cartItems||cartItems.length===0?/*#__PURE__*/_jsx(Message,{children:\"Your cart is empty\"}):/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:cartItems.map((item,index)=>/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsx(Image,{src:item.image||'/images/default-food.jpg',alt:item.name,fluid:true,rounded:true})}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Link,{to:`/menu/${item.menuItem}`,children:item.name}),item.specialInstructions&&/*#__PURE__*/_jsxs(\"p\",{className:\"my-1 text-muted small\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Special Instructions:\"}),\" \",item.specialInstructions]})]}),/*#__PURE__*/_jsxs(Col,{md:4,children:[item.qty,\" x $\",item.price,\" = $\",(item.qty*item.price).toFixed(2)]})]})},index))})]})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Order Summary\"})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Items\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",itemsPrice.toFixed(2)]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Delivery\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",deliveryPrice.toFixed(2)]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Tax\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",taxPrice.toFixed(2)]})]})}),cart.coupon&&/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{children:[\"Discount (\",cart.coupon.discountPercent,\"%)\"]}),/*#__PURE__*/_jsxs(Col,{children:[\"-$\",discountAmount.toFixed(2)]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Total\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",totalPrice.toFixed(2)]})]})}),orderError&&/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:orderError})}),error&&/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error})}),/*#__PURE__*/_jsx(ListGroup.Item,{className:\"d-grid\",children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"btn-primary btn-block\",onClick:placeOrderHandler,disabled:cartItems.length===0,children:\"Place Order\"})})]})})})]})]});};export default PlaceOrderPage;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","Button","Row","Col","ListGroup","Image","Card","useDispatch","useSelector","Message","Loader","CheckoutSteps","createOrder","ORDER_CREATE_RESET","clearCart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PlaceOrderPage","dispatch","navigate","orderError","setOrderError","cart","state","cartItems","shippingAddress","paymentMethod","userLogin","userInfo","orderCreate","order","success","error","loading","itemsPrice","length","reduce","acc","item","price","qty","discountAmount","coupon","discountPercent","deliveryPrice","deliveryType","taxPrice","Math","round","totalPrice","Object","keys","_id","type","placeOrderHandler","console","log","orderItems","map","menuItem","name","image","specialInstructions","couponCode","code","children","step1","step2","step3","step4","variant","md","Item","address","city","postalCode","phoneNumber","index","src","alt","fluid","rounded","to","className","toFixed","onClick","disabled"],"sources":["C:/Users/HP/CascadeProjects/food-ordering-system/client/src/pages/PlaceOrderPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Button, Row, Col, ListGroup, Image, Card } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport CheckoutSteps from '../components/CheckoutSteps';\nimport { createOrder } from '../actions/orderActions';\nimport { ORDER_CREATE_RESET } from '../constants/orderConstants';\nimport { clearCart } from '../actions/cartActions';\n\nconst PlaceOrderPage = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [orderError, setOrderError] = useState('');\n  \n  const cart = useSelector((state) => state.cart);\n  const { cartItems = [], shippingAddress = {}, paymentMethod = '' } = cart;\n  \n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n  \n  const orderCreate = useSelector((state) => state.orderCreate);\n  const { order, success, error, loading } = orderCreate;\n  \n  // Calculate prices\n  const itemsPrice = cartItems && cartItems.length > 0 \n    ? cartItems.reduce((acc, item) => acc + item.price * item.qty, 0)\n    : 0;\n  const discountAmount = cart.coupon ? (itemsPrice * cart.coupon.discountPercent) / 100 : 0;\n  const deliveryPrice = shippingAddress?.deliveryType === 'delivery' ? 5 : 0;\n  const taxPrice = Math.round(0.05 * itemsPrice * 100) / 100; // 5% tax, rounded to 2 decimal places\n  const totalPrice = Math.round((itemsPrice + deliveryPrice + taxPrice - discountAmount) * 100) / 100;\n  \n  // Check if shipping address is available\n  useEffect(() => {\n    // Check if cart is empty\n    if (!cartItems || cartItems.length === 0) {\n      setOrderError('Your cart is empty. Please add items to your cart before proceeding.');\n    }\n    \n    // Check if shipping address is available\n    if (!shippingAddress || Object.keys(shippingAddress).length === 0) {\n      navigate('/shipping');\n    } else if (!paymentMethod) {\n      navigate('/payment');\n    }\n  }, [navigate, shippingAddress, paymentMethod, cartItems]);\n  \n  useEffect(() => {\n    if (success && order) {\n      navigate(`/order/${order._id}`);\n      dispatch({ type: ORDER_CREATE_RESET });\n      dispatch(clearCart());\n    }\n  }, [navigate, success, order, dispatch]);\n  \n  const placeOrderHandler = () => {\n    if (!userInfo) {\n      setOrderError('Please log in to place an order');\n      return;\n    }\n    \n    if (!cartItems || cartItems.length === 0) {\n      setOrderError('Your cart is empty');\n      return;\n    }\n    \n    if (!shippingAddress || Object.keys(shippingAddress).length === 0) {\n      setOrderError('Please provide shipping information');\n      return;\n    }\n    \n    if (!paymentMethod) {\n      setOrderError('Please select a payment method');\n      return;\n    }\n    \n    setOrderError('');\n    \n    // Log cart state before creating order\n    console.log('Creating order with cart items:', cartItems);\n    \n    dispatch(\n      createOrder({\n        orderItems: cartItems.map(item => ({\n          menuItem: item.menuItem,\n          name: item.name,\n          qty: item.qty,\n          image: item.image,\n          price: item.price,\n          specialInstructions: item.specialInstructions || ''\n        })),\n        shippingAddress,\n        paymentMethod,\n        itemsPrice,\n        taxPrice,\n        deliveryPrice,\n        discountAmount,\n        totalPrice,\n        couponCode: cart.coupon ? cart.coupon.code : null\n      })\n    );\n  };\n  \n  // Force-render the component when cart items change\n  useEffect(() => {\n    // This is just to trigger a re-render when cart items change\n    console.log('Cart items changed:', cartItems);\n  }, [cartItems]);\n  \n  return (\n    <>\n      <CheckoutSteps step1 step2 step3 step4 />\n      {orderError && <Message variant=\"danger\">{orderError}</Message>}\n      {error && <Message variant=\"danger\">{error}</Message>}\n      <Row>\n        <Col md={8}>\n          <ListGroup variant=\"flush\">\n            <ListGroup.Item>\n              <h2>Delivery</h2>\n              <p>\n                <strong>Method: </strong>\n                {shippingAddress?.deliveryType === 'delivery' ? 'Home Delivery' : 'Pickup'}\n              </p>\n              {shippingAddress?.deliveryType === 'delivery' && (\n                <p>\n                  <strong>Address: </strong>\n                  {shippingAddress.address}, {shippingAddress.city}{' '}\n                  {shippingAddress.postalCode}\n                </p>\n              )}\n              <p>\n                <strong>Phone: </strong>\n                {shippingAddress?.phoneNumber}\n              </p>\n            </ListGroup.Item>\n            \n            <ListGroup.Item>\n              <h2>Payment Method</h2>\n              <p>\n                <strong>Method: </strong>\n                {paymentMethod}\n              </p>\n            </ListGroup.Item>\n            \n            <ListGroup.Item>\n              <h2>Order Items</h2>\n              {!cartItems || cartItems.length === 0 ? (\n                <Message>Your cart is empty</Message>\n              ) : (\n                <ListGroup variant=\"flush\">\n                  {cartItems.map((item, index) => (\n                    <ListGroup.Item key={index}>\n                      <Row>\n                        <Col md={1}>\n                          <Image\n                            src={item.image || '/images/default-food.jpg'}\n                            alt={item.name}\n                            fluid\n                            rounded\n                          />\n                        </Col>\n                        <Col>\n                          <Link to={`/menu/${item.menuItem}`}>\n                            {item.name}\n                          </Link>\n                          {item.specialInstructions && (\n                            <p className=\"my-1 text-muted small\">\n                              <strong>Special Instructions:</strong> {item.specialInstructions}\n                            </p>\n                          )}\n                        </Col>\n                        <Col md={4}>\n                          {item.qty} x ${item.price} = ${(item.qty * item.price).toFixed(2)}\n                        </Col>\n                      </Row>\n                    </ListGroup.Item>\n                  ))}\n                </ListGroup>\n              )}\n            </ListGroup.Item>\n          </ListGroup>\n        </Col>\n        <Col md={4}>\n          <Card>\n            <ListGroup variant=\"flush\">\n              <ListGroup.Item>\n                <h2>Order Summary</h2>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Row>\n                  <Col>Items</Col>\n                  <Col>${itemsPrice.toFixed(2)}</Col>\n                </Row>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Row>\n                  <Col>Delivery</Col>\n                  <Col>${deliveryPrice.toFixed(2)}</Col>\n                </Row>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Row>\n                  <Col>Tax</Col>\n                  <Col>${taxPrice.toFixed(2)}</Col>\n                </Row>\n              </ListGroup.Item>\n              {cart.coupon && (\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Discount ({cart.coupon.discountPercent}%)</Col>\n                    <Col>-${discountAmount.toFixed(2)}</Col>\n                  </Row>\n                </ListGroup.Item>\n              )}\n              <ListGroup.Item>\n                <Row>\n                  <Col>Total</Col>\n                  <Col>${totalPrice.toFixed(2)}</Col>\n                </Row>\n              </ListGroup.Item>\n              \n              {orderError && (\n                <ListGroup.Item>\n                  <Message variant=\"danger\">{orderError}</Message>\n                </ListGroup.Item>\n              )}\n              \n              {error && (\n                <ListGroup.Item>\n                  <Message variant=\"danger\">{error}</Message>\n                </ListGroup.Item>\n              )}\n              \n              <ListGroup.Item className=\"d-grid\">\n                {loading ? (\n                  <Loader />\n                ) : (\n                  <Button\n                    type=\"button\"\n                    className=\"btn-primary btn-block\"\n                    onClick={placeOrderHandler}\n                    disabled={cartItems.length === 0}\n                  >\n                    Place Order\n                  </Button>\n                )}\n              </ListGroup.Item>\n            </ListGroup>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default PlaceOrderPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}