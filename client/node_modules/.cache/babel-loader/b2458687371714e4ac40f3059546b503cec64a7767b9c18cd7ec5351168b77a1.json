{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useParams,useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{Row,Col,Image,ListGroup,Card,Button,Form}from'react-bootstrap';import Rating from'../components/Rating';import Loader from'../components/Loader';import Message from'../components/Message';import{getMenuItemDetails}from'../actions/menuItemActions';import{addToCart}from'../actions/cartActions';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MenuItemPage=()=>{const[qty,setQty]=useState(1);const[specialInstructions,setSpecialInstructions]=useState('');const dispatch=useDispatch();const navigate=useNavigate();const{id}=useParams();const menuItemDetails=useSelector(state=>state.menuItemDetails);const{loading,error,menuItem}=menuItemDetails;useEffect(()=>{dispatch(getMenuItemDetails(id));},[dispatch,id]);const addToCartHandler=()=>{dispatch(addToCart(id,Number(qty),specialInstructions));navigate('/cart');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-light my-3\",to:\"/menu\",children:\"Back to Menu\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:menuItem.image_url||'/images/default-food.jpg',alt:menuItem.name,fluid:true})}),/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h3\",{children:menuItem.name})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Rating,{value:menuItem.rating||0,text:`${menuItem.numReviews||0} reviews`})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"$\",menuItem.price]})}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Category:\"}),\" \",menuItem.category]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",menuItem.description]})]}),/*#__PURE__*/_jsx(Card,{className:\"mt-3\",children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status:\"}),/*#__PURE__*/_jsx(Col,{children:menuItem.availability?'In Stock':'Out of Stock'})]})}),menuItem.availability&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Quantity:\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:qty,onChange:e=>setQty(e.target.value),children:[...Array(10).keys()].map(x=>/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1))})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"specialInstructions\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Special Instructions\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,value:specialInstructions,onChange:e=>setSpecialInstructions(e.target.value),placeholder:\"Any special requests or allergies?\"})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{onClick:addToCartHandler,className:\"btn-block\",type:\"button\",disabled:!menuItem.availability,children:\"Add To Cart\"})})]})]})})]})]})]});};export default MenuItemPage;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","useNavigate","useDispatch","useSelector","Row","Col","Image","ListGroup","Card","Button","Form","Rating","Loader","Message","getMenuItemDetails","addToCart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MenuItemPage","qty","setQty","specialInstructions","setSpecialInstructions","dispatch","navigate","id","menuItemDetails","state","loading","error","menuItem","addToCartHandler","Number","children","className","to","variant","md","src","image_url","alt","name","fluid","Item","value","rating","text","numReviews","price","category","description","availability","Control","as","onChange","e","target","Array","keys","map","x","Group","controlId","Label","rows","placeholder","onClick","type","disabled"],"sources":["C:/Users/HP/CascadeProjects/food-ordering-system/client/src/pages/MenuItemPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap';\nimport Rating from '../components/Rating';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { getMenuItemDetails } from '../actions/menuItemActions';\nimport { addToCart } from '../actions/cartActions';\n\nconst MenuItemPage = () => {\n  const [qty, setQty] = useState(1);\n  const [specialInstructions, setSpecialInstructions] = useState('');\n  \n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { id } = useParams();\n  \n  const menuItemDetails = useSelector((state) => state.menuItemDetails);\n  const { loading, error, menuItem } = menuItemDetails;\n  \n  useEffect(() => {\n    dispatch(getMenuItemDetails(id));\n  }, [dispatch, id]);\n  \n  const addToCartHandler = () => {\n    dispatch(addToCart(id, Number(qty), specialInstructions));\n    navigate('/cart');\n  };\n  \n  return (\n    <>\n      <Link className=\"btn btn-light my-3\" to=\"/menu\">\n        Back to Menu\n      </Link>\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant=\"danger\">{error}</Message>\n      ) : (\n        <Row>\n          <Col md={6}>\n            <Image \n              src={menuItem.image_url || '/images/default-food.jpg'} \n              alt={menuItem.name} \n              fluid \n            />\n          </Col>\n          <Col md={6}>\n            <ListGroup variant=\"flush\">\n              <ListGroup.Item>\n                <h3>{menuItem.name}</h3>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Rating\n                  value={menuItem.rating || 0}\n                  text={`${menuItem.numReviews || 0} reviews`}\n                />\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <h4>${menuItem.price}</h4>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <strong>Category:</strong> {menuItem.category}\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <strong>Description:</strong> {menuItem.description}\n              </ListGroup.Item>\n            </ListGroup>\n            \n            <Card className=\"mt-3\">\n              <ListGroup variant=\"flush\">\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Status:</Col>\n                    <Col>\n                      {menuItem.availability ? 'In Stock' : 'Out of Stock'}\n                    </Col>\n                  </Row>\n                </ListGroup.Item>\n                \n                {menuItem.availability && (\n                  <>\n                    <ListGroup.Item>\n                      <Row>\n                        <Col>Quantity:</Col>\n                        <Col>\n                          <Form.Control\n                            as=\"select\"\n                            value={qty}\n                            onChange={(e) => setQty(e.target.value)}\n                          >\n                            {[...Array(10).keys()].map((x) => (\n                              <option key={x + 1} value={x + 1}>\n                                {x + 1}\n                              </option>\n                            ))}\n                          </Form.Control>\n                        </Col>\n                      </Row>\n                    </ListGroup.Item>\n                    \n                    <ListGroup.Item>\n                      <Form.Group controlId=\"specialInstructions\">\n                        <Form.Label>Special Instructions</Form.Label>\n                        <Form.Control\n                          as=\"textarea\"\n                          rows={3}\n                          value={specialInstructions}\n                          onChange={(e) => setSpecialInstructions(e.target.value)}\n                          placeholder=\"Any special requests or allergies?\"\n                        />\n                      </Form.Group>\n                    </ListGroup.Item>\n                    \n                    <ListGroup.Item>\n                      <Button\n                        onClick={addToCartHandler}\n                        className=\"btn-block\"\n                        type=\"button\"\n                        disabled={!menuItem.availability}\n                      >\n                        Add To Cart\n                      </Button>\n                    </ListGroup.Item>\n                  </>\n                )}\n              </ListGroup>\n            </Card>\n          </Col>\n        </Row>\n      )}\n    </>\n  );\n};\n\nexport default MenuItemPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}