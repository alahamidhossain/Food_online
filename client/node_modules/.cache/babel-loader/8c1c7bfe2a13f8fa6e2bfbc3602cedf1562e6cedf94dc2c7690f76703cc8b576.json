{"ast":null,"code":"import React,{useEffect}from'react';import{Table,Button}from'react-bootstrap';import{LinkContainer}from'react-router-bootstrap';import{useDispatch,useSelector}from'react-redux';import Message from'../components/Message';import Loader from'../components/Loader';import{listMyOrders}from'../actions/orderActions';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const OrderHistoryPage=()=>{const dispatch=useDispatch();const orderListMy=useSelector(state=>state.orderListMy);const{loading,error,orders}=orderListMy;useEffect(()=>{dispatch(listMyOrders());},[dispatch]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Order History\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):orders&&orders.length===0?/*#__PURE__*/_jsx(Message,{children:\"You have no orders yet\"}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"TOTAL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DELIVERY TYPE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"STATUS\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders&&orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:new Date(order.created_at).toLocaleDateString()}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",order.total_price]}),/*#__PURE__*/_jsx(\"td\",{children:order.delivery_type}),/*#__PURE__*/_jsx(\"td\",{children:order.status==='completed'?/*#__PURE__*/_jsx(\"span\",{className:\"text-success\",children:order.status}):order.status==='cancelled'?/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:order.status}):/*#__PURE__*/_jsx(\"span\",{className:\"text-warning\",children:order.status})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(LinkContainer,{to:`/order/${order._id}`,children:/*#__PURE__*/_jsx(Button,{className:\"btn-sm\",variant:\"light\",children:\"Details\"})})})]},order._id))})]})]});};export default OrderHistoryPage;","map":{"version":3,"names":["React","useEffect","Table","Button","LinkContainer","useDispatch","useSelector","Message","Loader","listMyOrders","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OrderHistoryPage","dispatch","orderListMy","state","loading","error","orders","children","variant","length","striped","bordered","hover","responsive","className","map","order","_id","Date","created_at","toLocaleDateString","total_price","delivery_type","status","to"],"sources":["C:/Users/HP/CascadeProjects/food-ordering-system/client/src/pages/OrderHistoryPage.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Table, Button } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { listMyOrders } from '../actions/orderActions';\n\nconst OrderHistoryPage = () => {\n  const dispatch = useDispatch();\n\n  const orderListMy = useSelector((state) => state.orderListMy);\n  const { loading, error, orders } = orderListMy;\n\n  useEffect(() => {\n    dispatch(listMyOrders());\n  }, [dispatch]);\n\n  return (\n    <>\n      <h1>Order History</h1>\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant=\"danger\">{error}</Message>\n      ) : orders && orders.length === 0 ? (\n        <Message>You have no orders yet</Message>\n      ) : (\n        <Table striped bordered hover responsive className=\"table-sm\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>DATE</th>\n              <th>TOTAL</th>\n              <th>DELIVERY TYPE</th>\n              <th>STATUS</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {orders && orders.map((order) => (\n              <tr key={order._id}>\n                <td>{order._id}</td>\n                <td>{new Date(order.created_at).toLocaleDateString()}</td>\n                <td>${order.total_price}</td>\n                <td>{order.delivery_type}</td>\n                <td>\n                  {order.status === 'completed' ? (\n                    <span className=\"text-success\">{order.status}</span>\n                  ) : order.status === 'cancelled' ? (\n                    <span className=\"text-danger\">{order.status}</span>\n                  ) : (\n                    <span className=\"text-warning\">{order.status}</span>\n                  )}\n                </td>\n                <td>\n                  <LinkContainer to={`/order/${order._id}`}>\n                    <Button className=\"btn-sm\" variant=\"light\">\n                      Details\n                    </Button>\n                  </LinkContainer>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      )}\n    </>\n  );\n};\n\nexport default OrderHistoryPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}