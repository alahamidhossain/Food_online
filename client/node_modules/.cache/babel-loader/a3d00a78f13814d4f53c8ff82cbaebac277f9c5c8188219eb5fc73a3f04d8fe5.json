{"ast":null,"code":"import{CART_ADD_ITEM,CART_REMOVE_ITEM,CART_UPDATE_ITEM_QUANTITY,CART_SAVE_SHIPPING_ADDRESS,CART_SAVE_PAYMENT_METHOD,CART_CLEAR_ITEMS,CART_APPLY_COUPON,CART_REMOVE_COUPON}from'../constants/cartConstants';// Initialize cart state with default values\nconst initialCartState={cartItems:[],shippingAddress:{},paymentMethod:'',coupon:null};export const cartReducer=function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialCartState;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case CART_ADD_ITEM:// Check if this is a replace operation (for loading a user's cart)\nif(action.replace){return{...state,cartItems:Array.isArray(action.payload)?action.payload:[action.payload]};}const item=action.payload;const existItem=state.cartItems.find(x=>x.menuItem===item.menuItem);if(existItem){return{...state,cartItems:state.cartItems.map(x=>x.menuItem===existItem.menuItem?item:x)};}else{return{...state,cartItems:[...state.cartItems,item]};}case CART_UPDATE_ITEM_QUANTITY:return{...state,cartItems:state.cartItems.map(item=>item.menuItem===action.payload.menuItem?{...item,qty:action.payload.qty}:item)};case CART_REMOVE_ITEM:return{...state,cartItems:state.cartItems.filter(x=>x.menuItem!==action.payload)};case CART_SAVE_SHIPPING_ADDRESS:return{...state,shippingAddress:action.payload};case CART_SAVE_PAYMENT_METHOD:return{...state,paymentMethod:action.payload};case CART_APPLY_COUPON:return{...state,coupon:action.payload};case CART_REMOVE_COUPON:return{...state,coupon:null};case CART_CLEAR_ITEMS:return{...state,cartItems:[],shippingAddress:{},paymentMethod:'',coupon:null};default:return state;}};","map":{"version":3,"names":["CART_ADD_ITEM","CART_REMOVE_ITEM","CART_UPDATE_ITEM_QUANTITY","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","CART_CLEAR_ITEMS","CART_APPLY_COUPON","CART_REMOVE_COUPON","initialCartState","cartItems","shippingAddress","paymentMethod","coupon","cartReducer","state","arguments","length","undefined","action","type","replace","Array","isArray","payload","item","existItem","find","x","menuItem","map","qty","filter"],"sources":["C:/Users/HP/CascadeProjects/food-ordering-system/client/src/reducers/cartReducers.js"],"sourcesContent":["import {\n  CART_ADD_ITEM,\n  CART_REMOVE_ITEM,\n  CART_UPDATE_ITEM_QUANTITY,\n  CART_SAVE_SHIPPING_ADDRESS,\n  CART_SAVE_PAYMENT_METHOD,\n  CART_CLEAR_ITEMS,\n  CART_APPLY_COUPON,\n  CART_REMOVE_COUPON\n} from '../constants/cartConstants';\n\n// Initialize cart state with default values\nconst initialCartState = {\n  cartItems: [],\n  shippingAddress: {},\n  paymentMethod: '',\n  coupon: null\n};\n\nexport const cartReducer = (state = initialCartState, action) => {\n  switch (action.type) {\n    case CART_ADD_ITEM:\n      // Check if this is a replace operation (for loading a user's cart)\n      if (action.replace) {\n        return {\n          ...state,\n          cartItems: Array.isArray(action.payload) ? action.payload : [action.payload]\n        };\n      }\n      \n      const item = action.payload;\n      const existItem = state.cartItems.find(\n        (x) => x.menuItem === item.menuItem\n      );\n\n      if (existItem) {\n        return {\n          ...state,\n          cartItems: state.cartItems.map((x) =>\n            x.menuItem === existItem.menuItem ? item : x\n          ),\n        };\n      } else {\n        return {\n          ...state,\n          cartItems: [...state.cartItems, item],\n        };\n      }\n    \n    case CART_UPDATE_ITEM_QUANTITY:\n      return {\n        ...state,\n        cartItems: state.cartItems.map((item) =>\n          item.menuItem === action.payload.menuItem\n            ? { ...item, qty: action.payload.qty }\n            : item\n        ),\n      };\n    \n    case CART_REMOVE_ITEM:\n      return {\n        ...state,\n        cartItems: state.cartItems.filter((x) => x.menuItem !== action.payload),\n      };\n    \n    case CART_SAVE_SHIPPING_ADDRESS:\n      return {\n        ...state,\n        shippingAddress: action.payload,\n      };\n    \n    case CART_SAVE_PAYMENT_METHOD:\n      return {\n        ...state,\n        paymentMethod: action.payload,\n      };\n    \n    case CART_APPLY_COUPON:\n      return {\n        ...state,\n        coupon: action.payload,\n      };\n    \n    case CART_REMOVE_COUPON:\n      return {\n        ...state,\n        coupon: null,\n      };\n    \n    case CART_CLEAR_ITEMS:\n      return {\n        ...state,\n        cartItems: [],\n        shippingAddress: {},\n        paymentMethod: '',\n        coupon: null\n      };\n    \n    default:\n      return state;\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}