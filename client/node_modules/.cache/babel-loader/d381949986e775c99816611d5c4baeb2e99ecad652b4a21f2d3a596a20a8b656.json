{"ast":null,"code":"import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\n// Reducers\nimport { userLoginReducer, userRegisterReducer, userDetailsReducer, userUpdateProfileReducer, userListReducer, userDeleteReducer, userUpdateReducer } from './reducers/userReducers';\nimport { menuItemListReducer, menuItemDetailsReducer, menuItemCreateReducer, menuItemUpdateReducer, menuItemDeleteReducer } from './reducers/menuItemReducers';\nimport { cartReducer } from './reducers/cartReducers';\nimport { orderCreateReducer, orderDetailsReducer, orderPayReducer, orderListMyReducer, orderListReducer, orderUpdateStatusReducer } from './reducers/orderReducers';\nimport { couponListReducer, couponCreateReducer, couponUpdateReducer, couponDeleteReducer } from './reducers/couponReducers';\nconst reducer = combineReducers({\n  userLogin: userLoginReducer,\n  userRegister: userRegisterReducer,\n  userDetails: userDetailsReducer,\n  userUpdateProfile: userUpdateProfileReducer,\n  userList: userListReducer,\n  userDelete: userDeleteReducer,\n  userUpdate: userUpdateReducer,\n  menuItemList: menuItemListReducer,\n  menuItemDetails: menuItemDetailsReducer,\n  menuItemCreate: menuItemCreateReducer,\n  menuItemUpdate: menuItemUpdateReducer,\n  menuItemDelete: menuItemDeleteReducer,\n  cart: cartReducer,\n  orderCreate: orderCreateReducer,\n  orderDetails: orderDetailsReducer,\n  orderPay: orderPayReducer,\n  orderListMy: orderListMyReducer,\n  orderList: orderListReducer,\n  orderUpdateStatus: orderUpdateStatusReducer\n});\n\n// Get user info from localStorage\nconst userInfoFromStorage = localStorage.getItem('userInfo') ? JSON.parse(localStorage.getItem('userInfo')) : null;\n\n// Helper function to get user-specific localStorage keys\nconst getUserKey = key => {\n  if (userInfoFromStorage && userInfoFromStorage._id) {\n    return `${key}_${userInfoFromStorage._id}`;\n  }\n  return `guest${key}`;\n};\n\n// Get cart items from localStorage (user-specific)\nconst cartItemsFromStorage = userInfoFromStorage ? localStorage.getItem(getUserKey('cartItems')) ? JSON.parse(localStorage.getItem(getUserKey('cartItems'))) : [] : localStorage.getItem('guestCartItems') ? JSON.parse(localStorage.getItem('guestCartItems')) : [];\n\n// Get shipping address from localStorage (user-specific)\nconst shippingAddressFromStorage = userInfoFromStorage ? localStorage.getItem(getUserKey('shippingAddress')) ? JSON.parse(localStorage.getItem(getUserKey('shippingAddress'))) : {} : localStorage.getItem('guestShippingAddress') ? JSON.parse(localStorage.getItem('guestShippingAddress')) : {};\n\n// Get payment method from localStorage (user-specific)\nconst paymentMethodFromStorage = userInfoFromStorage ? localStorage.getItem(getUserKey('paymentMethod')) ? JSON.parse(localStorage.getItem(getUserKey('paymentMethod'))) : '' : localStorage.getItem('guestPaymentMethod') ? JSON.parse(localStorage.getItem('guestPaymentMethod')) : '';\n\n// Get coupon from localStorage (user-specific)\nconst couponFromStorage = userInfoFromStorage ? localStorage.getItem(getUserKey('coupon')) ? JSON.parse(localStorage.getItem(getUserKey('coupon'))) : null : localStorage.getItem('guestCoupon') ? JSON.parse(localStorage.getItem('guestCoupon')) : null;\n\n// Log initial cart state for debugging\nconsole.log('User info from storage:', userInfoFromStorage);\nconsole.log('Cart items from storage:', cartItemsFromStorage);\nconsole.log('Shipping address from storage:', shippingAddressFromStorage);\nconsole.log('Payment method from storage:', paymentMethodFromStorage);\nconst initialState = {\n  cart: {\n    cartItems: cartItemsFromStorage,\n    shippingAddress: shippingAddressFromStorage,\n    paymentMethod: paymentMethodFromStorage,\n    coupon: couponFromStorage\n  },\n  userLogin: {\n    userInfo: userInfoFromStorage\n  }\n};\nconst middleware = [thunk];\nconst store = createStore(reducer, initialState, composeWithDevTools(applyMiddleware(...middleware)));\nexport default store;","map":{"version":3,"names":["createStore","combineReducers","applyMiddleware","thunk","composeWithDevTools","userLoginReducer","userRegisterReducer","userDetailsReducer","userUpdateProfileReducer","userListReducer","userDeleteReducer","userUpdateReducer","menuItemListReducer","menuItemDetailsReducer","menuItemCreateReducer","menuItemUpdateReducer","menuItemDeleteReducer","cartReducer","orderCreateReducer","orderDetailsReducer","orderPayReducer","orderListMyReducer","orderListReducer","orderUpdateStatusReducer","couponListReducer","couponCreateReducer","couponUpdateReducer","couponDeleteReducer","reducer","userLogin","userRegister","userDetails","userUpdateProfile","userList","userDelete","userUpdate","menuItemList","menuItemDetails","menuItemCreate","menuItemUpdate","menuItemDelete","cart","orderCreate","orderDetails","orderPay","orderListMy","orderList","orderUpdateStatus","userInfoFromStorage","localStorage","getItem","JSON","parse","getUserKey","key","_id","cartItemsFromStorage","shippingAddressFromStorage","paymentMethodFromStorage","couponFromStorage","console","log","initialState","cartItems","shippingAddress","paymentMethod","coupon","userInfo","middleware","store"],"sources":["C:/Users/HP/CascadeProjects/food-ordering-system/client/src/store.js"],"sourcesContent":["import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\n// Reducers\nimport { \n  userLoginReducer, \n  userRegisterReducer, \n  userDetailsReducer, \n  userUpdateProfileReducer,\n  userListReducer,\n  userDeleteReducer,\n  userUpdateReducer\n} from './reducers/userReducers';\nimport { \n  menuItemListReducer, \n  menuItemDetailsReducer,\n  menuItemCreateReducer,\n  menuItemUpdateReducer,\n  menuItemDeleteReducer\n} from './reducers/menuItemReducers';\nimport { \n  cartReducer \n} from './reducers/cartReducers';\nimport { \n  orderCreateReducer, \n  orderDetailsReducer, \n  orderPayReducer, \n  orderListMyReducer,\n  orderListReducer,\n  orderUpdateStatusReducer\n} from './reducers/orderReducers';\nimport {\n  couponListReducer,\n  couponCreateReducer,\n  couponUpdateReducer,\n  couponDeleteReducer\n} from './reducers/couponReducers';\n\nconst reducer = combineReducers({\n  userLogin: userLoginReducer,\n  userRegister: userRegisterReducer,\n  userDetails: userDetailsReducer,\n  userUpdateProfile: userUpdateProfileReducer,\n  userList: userListReducer,\n  userDelete: userDeleteReducer,\n  userUpdate: userUpdateReducer,\n  menuItemList: menuItemListReducer,\n  menuItemDetails: menuItemDetailsReducer,\n  menuItemCreate: menuItemCreateReducer,\n  menuItemUpdate: menuItemUpdateReducer,\n  menuItemDelete: menuItemDeleteReducer,\n  cart: cartReducer,\n  orderCreate: orderCreateReducer,\n  orderDetails: orderDetailsReducer,\n  orderPay: orderPayReducer,\n  orderListMy: orderListMyReducer,\n  orderList: orderListReducer,\n  orderUpdateStatus: orderUpdateStatusReducer\n});\n\n// Get user info from localStorage\nconst userInfoFromStorage = localStorage.getItem('userInfo')\n  ? JSON.parse(localStorage.getItem('userInfo'))\n  : null;\n\n// Helper function to get user-specific localStorage keys\nconst getUserKey = (key) => {\n  if (userInfoFromStorage && userInfoFromStorage._id) {\n    return `${key}_${userInfoFromStorage._id}`;\n  }\n  return `guest${key}`;\n};\n\n// Get cart items from localStorage (user-specific)\nconst cartItemsFromStorage = userInfoFromStorage\n  ? localStorage.getItem(getUserKey('cartItems'))\n    ? JSON.parse(localStorage.getItem(getUserKey('cartItems')))\n    : []\n  : localStorage.getItem('guestCartItems')\n    ? JSON.parse(localStorage.getItem('guestCartItems'))\n    : [];\n\n// Get shipping address from localStorage (user-specific)\nconst shippingAddressFromStorage = userInfoFromStorage\n  ? localStorage.getItem(getUserKey('shippingAddress'))\n    ? JSON.parse(localStorage.getItem(getUserKey('shippingAddress')))\n    : {}\n  : localStorage.getItem('guestShippingAddress')\n    ? JSON.parse(localStorage.getItem('guestShippingAddress'))\n    : {};\n\n// Get payment method from localStorage (user-specific)\nconst paymentMethodFromStorage = userInfoFromStorage\n  ? localStorage.getItem(getUserKey('paymentMethod'))\n    ? JSON.parse(localStorage.getItem(getUserKey('paymentMethod')))\n    : ''\n  : localStorage.getItem('guestPaymentMethod')\n    ? JSON.parse(localStorage.getItem('guestPaymentMethod'))\n    : '';\n\n// Get coupon from localStorage (user-specific)\nconst couponFromStorage = userInfoFromStorage\n  ? localStorage.getItem(getUserKey('coupon'))\n    ? JSON.parse(localStorage.getItem(getUserKey('coupon')))\n    : null\n  : localStorage.getItem('guestCoupon')\n    ? JSON.parse(localStorage.getItem('guestCoupon'))\n    : null;\n\n// Log initial cart state for debugging\nconsole.log('User info from storage:', userInfoFromStorage);\nconsole.log('Cart items from storage:', cartItemsFromStorage);\nconsole.log('Shipping address from storage:', shippingAddressFromStorage);\nconsole.log('Payment method from storage:', paymentMethodFromStorage);\n\nconst initialState = {\n  cart: { \n    cartItems: cartItemsFromStorage,\n    shippingAddress: shippingAddressFromStorage,\n    paymentMethod: paymentMethodFromStorage,\n    coupon: couponFromStorage\n  },\n  userLogin: { userInfo: userInfoFromStorage },\n};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n  reducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware))\n);\n\nexport default store;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}