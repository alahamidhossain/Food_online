{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Row,Col,Badge,Form,Button}from'react-bootstrap';import MenuItem from'../components/MenuItem';import Message from'../components/Message';import Loader from'../components/Loader';import{listMenuItems}from'../actions/menuItemActions';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MenuPage=()=>{const dispatch=useDispatch();const[selectedCategory,setSelectedCategory]=useState('');const[searchTerm,setSearchTerm]=useState('');const menuItemList=useSelector(state=>state.menuItemList);const{loading,error,menuItems}=menuItemList;useEffect(()=>{dispatch(listMenuItems(selectedCategory));},[dispatch,selectedCategory]);// Get unique categories\nconst categories=menuItems?[...new Set(menuItems.map(item=>item.category))]:[];const handleCategoryClick=category=>{setSelectedCategory(category===selectedCategory?'':category);};const handleSearch=e=>{e.preventDefault();// Filter is done client-side for simplicity\n};// Filter menu items based on search term\nconst filteredItems=menuItems?menuItems.filter(item=>item.name.toLowerCase().includes(searchTerm.toLowerCase())||item.description.toLowerCase().includes(searchTerm.toLowerCase())):[];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center my-4\",children:\"Our Menu\"}),/*#__PURE__*/_jsx(Form,{onSubmit:handleSearch,className:\"mb-4\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:8,className:\"mx-auto\",children:/*#__PURE__*/_jsx(Form.Group,{controlId:\"search\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Search menu items...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"Categories\"}),/*#__PURE__*/_jsx(Badge,{bg:selectedCategory===''?'success':'secondary',className:\"category-badge p-2\",onClick:()=>handleCategoryClick(''),children:\"All\"}),categories.map(category=>/*#__PURE__*/_jsx(Badge,{bg:selectedCategory===category?'success':'secondary',className:\"category-badge p-2\",onClick:()=>handleCategoryClick(category),children:category},category))]}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):filteredItems.length===0?/*#__PURE__*/_jsx(Message,{children:\"No menu items found.\"}):/*#__PURE__*/_jsx(Row,{children:filteredItems.map(menuItem=>/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:4,children:/*#__PURE__*/_jsx(MenuItem,{menuItem:menuItem})},menuItem._id))})]});};export default MenuPage;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Row","Col","Badge","Form","Button","MenuItem","Message","Loader","listMenuItems","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MenuPage","dispatch","selectedCategory","setSelectedCategory","searchTerm","setSearchTerm","menuItemList","state","loading","error","menuItems","categories","Set","map","item","category","handleCategoryClick","handleSearch","e","preventDefault","filteredItems","filter","name","toLowerCase","includes","description","children","className","onSubmit","md","Group","controlId","Control","type","placeholder","value","onChange","target","bg","onClick","variant","length","menuItem","sm","lg","xl","_id"],"sources":["C:/Users/HP/CascadeProjects/food-ordering-system/client/src/pages/MenuPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col, Badge, Form, Button } from 'react-bootstrap';\nimport MenuItem from '../components/MenuItem';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { listMenuItems } from '../actions/menuItemActions';\n\nconst MenuPage = () => {\n  const dispatch = useDispatch();\n  \n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  \n  const menuItemList = useSelector((state) => state.menuItemList);\n  const { loading, error, menuItems } = menuItemList;\n  \n  useEffect(() => {\n    dispatch(listMenuItems(selectedCategory));\n  }, [dispatch, selectedCategory]);\n  \n  // Get unique categories\n  const categories = menuItems\n    ? [...new Set(menuItems.map((item) => item.category))]\n    : [];\n  \n  const handleCategoryClick = (category) => {\n    setSelectedCategory(category === selectedCategory ? '' : category);\n  };\n  \n  const handleSearch = (e) => {\n    e.preventDefault();\n    // Filter is done client-side for simplicity\n  };\n  \n  // Filter menu items based on search term\n  const filteredItems = menuItems\n    ? menuItems.filter((item) =>\n        item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        item.description.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    : [];\n  \n  return (\n    <>\n      <h1 className=\"text-center my-4\">Our Menu</h1>\n      \n      <Form onSubmit={handleSearch} className=\"mb-4\">\n        <Row>\n          <Col md={8} className=\"mx-auto\">\n            <Form.Group controlId=\"search\">\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Search menu items...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n              />\n            </Form.Group>\n          </Col>\n        </Row>\n      </Form>\n      \n      <div className=\"text-center mb-4\">\n        <h4 className=\"mb-3\">Categories</h4>\n        <Badge\n          bg={selectedCategory === '' ? 'success' : 'secondary'}\n          className=\"category-badge p-2\"\n          onClick={() => handleCategoryClick('')}\n        >\n          All\n        </Badge>\n        {categories.map((category) => (\n          <Badge\n            key={category}\n            bg={selectedCategory === category ? 'success' : 'secondary'}\n            className=\"category-badge p-2\"\n            onClick={() => handleCategoryClick(category)}\n          >\n            {category}\n          </Badge>\n        ))}\n      </div>\n      \n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant=\"danger\">{error}</Message>\n      ) : filteredItems.length === 0 ? (\n        <Message>No menu items found.</Message>\n      ) : (\n        <Row>\n          {filteredItems.map((menuItem) => (\n            <Col key={menuItem._id} sm={12} md={6} lg={4} xl={4}>\n              <MenuItem menuItem={menuItem} />\n            </Col>\n          ))}\n        </Row>\n      )}\n    </>\n  );\n};\n\nexport default MenuPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}